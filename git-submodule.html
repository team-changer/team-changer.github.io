<!doctype html>
<html lang="ko" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Git submodule 도입하기 | Trip Draw</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://tripdraw.blog/img/tripdraw.png"><meta data-rh="true" name="twitter:image" content="https://tripdraw.blog/img/tripdraw.png"><meta data-rh="true" property="og:url" content="https://tripdraw.blog/git-submodule"><meta data-rh="true" name="docusaurus_locale" content="ko"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="ko"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Git submodule 도입하기 | Trip Draw"><meta data-rh="true" name="description" content="들어가기"><meta data-rh="true" property="og:description" content="들어가기"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-11-07T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/Combi153"><meta data-rh="true" property="article:tag" content="github,collaboration"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://tripdraw.blog/git-submodule"><link data-rh="true" rel="alternate" href="https://tripdraw.blog/git-submodule" hreflang="ko"><link data-rh="true" rel="alternate" href="https://tripdraw.blog/git-submodule" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EDF1AEJ6GO-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Trip Draw RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Trip Draw Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Trip Draw" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.53421195.css">
<link rel="preload" href="/assets/js/runtime~main.8008de5f.js" as="script">
<link rel="preload" href="/assets/js/main.5bf20d84.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="본문으로 건너뛰기"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">본문으로 건너뛰기</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="TripDraw Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.png" alt="TripDraw Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">TripDraw</b></a><a class="navbar__item navbar__link" href="/archive">블로그</a><a class="navbar__item navbar__link" href="/docs/common">팀</a><a class="navbar__item navbar__link" href="/docs/backend">백엔드</a><a class="navbar__item navbar__link" href="/docs/android">안드로이드</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/woowacourse-teams/2023-trip-draw" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-label="어두운 모드와 밝은 모드 전환하기 (현재 밝은 모드)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="검색"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">검색</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="title_f1Hy" itemprop="headline">Git submodule 도입하기</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-11-07T00:00:00.000Z" itemprop="datePublished">2023년 11월 7일</time> · <!-- -->약 12분</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/Combi153" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/Combi153.png" alt="후추"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Combi153" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">후추</span></a></div><small class="avatar__subtitle" itemprop="description">Backend</small></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="들어가기">들어가기<a href="#들어가기" class="hash-link" aria-label="들어가기에 대한 직접 링크" title="들어가기에 대한 직접 링크">​</a></h2><p>프로젝트를 진행하며 환경변수를 private 하게 관리해야 하는 상황을 마주합니다. 예를 들어, JWT를 발급할 때 사용하는 secret-key 는 외부에 노출되면 안 됩니다. 만약 secret-key 가 노출된다면
누구나 JWT를 발급해 서버에 접근할 수 있고 회원의 개인정보까지 유출될 수 있기 때문입니다.</p><p>트립드로우는 환경변수를 관리하기 위해 Git Submodule을 도입하기로 했습니다.</p><h1>Git Submodule</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="submodule-이란">submodule 이란?<a href="#submodule-이란" class="hash-link" aria-label="submodule 이란?에 대한 직접 링크" title="submodule 이란?에 대한 직접 링크">​</a></h2><p>Git Submodule 은 Git Repository 안에 다른 Git Repository를 포함해서 사용하는 기술입니다.</p><p><img loading="lazy" src="https://velog.velcdn.com/images/153plane/post/4c1503e4-c398-435c-8ef4-22832e24b9c7/image.png" class="img_ev3q"></p><p>A, B 두 개의 Repository 가 있을 때 A Repository 에서 B Repository 를 submodule로 설정할 수 있습니다. 그러면 A Repository 에서 B Repository 에
자유롭게 접근할 수 있게 됩니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="submodule로-환경변수-관리">submodule로 환경변수 관리<a href="#submodule로-환경변수-관리" class="hash-link" aria-label="submodule로 환경변수 관리에 대한 직접 링크" title="submodule로 환경변수 관리에 대한 직접 링크">​</a></h2><p>트립드로우 Repository에 submodule을 추가하는 것으로 어떻게 환경변수를 관리할 수 있을까요?</p><p>그것은 Private Repository를 submodule로 설정함으로써 가능합니다.</p><p>Github의 Private Repository는 권한이 허용된 자만 접근 가능합니다. 즉, 외부에 노출되지 않습니다. 따라서 Private Repository에 환경변수를 두고 트립드로우 Repository에
이를 submodule로 설정한다면 환경변수를 private 하게 관리하는 것이 가능해집니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="submodule의-장점">submodule의 장점<a href="#submodule의-장점" class="hash-link" aria-label="submodule의 장점에 대한 직접 링크" title="submodule의 장점에 대한 직접 링크">​</a></h2><p>사실 환경변수를 비공개를 관리하는 가장 쉬운 방법은 환경변수 관련 파일을 .gitignore에 추가하는 것입니다.</p><p>그에 비해 submodule을 사용해 환경변수를 관리하는 방법은 번거롭게 느껴집니다. 그렇다면 submodule 을 사용해 얻을 수 있는 장점은 무엇일까요?</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="1-사람의-실수human-error를-방지할-수-있다">1. 사람의 실수(human error)를 방지할 수 있다.<a href="#1-사람의-실수human-error를-방지할-수-있다" class="hash-link" aria-label="1. 사람의 실수(human error)를 방지할 수 있다.에 대한 직접 링크" title="1. 사람의 실수(human error)를 방지할 수 있다.에 대한 직접 링크">​</a></h4><p>만약 개발자의 실수로 민감 정보 파일을 .gitignore에 추가하지 않으면 어떻게 될까요? 프로그램의 보안이 매우 취약해지고 회원 정보 유출 사태가 발생할 수도 있습니다. 민감 정보를 공개적인 장소에 노출하지 않는
것이
당연한 상식처럼 느껴지지만, 몸이 아프거나 일정이 급박하다면 어떤 개발자든 상식에 어긋나는 실수를 범할 수 있습니다. 결국 실수할만한 상황을 원천 차단하는 것이 중요합니다.</p><p>Private Repository와 submodule 을 이용한 방법은 .gitignore 설정을 추가하지 않아도 됩니다. 따라서 사람의 실수를 방지할 수 있습니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="2-변경-사항을-체계적으로-추적하고-통제할-수-있다">2. 변경 사항을 체계적으로 추적하고 통제할 수 있다.<a href="#2-변경-사항을-체계적으로-추적하고-통제할-수-있다" class="hash-link" aria-label="2. 변경 사항을 체계적으로 추적하고 통제할 수 있다.에 대한 직접 링크" title="2. 변경 사항을 체계적으로 추적하고 통제할 수 있다.에 대한 직접 링크">​</a></h4><p>submodule은 Git Repository를 기반으로 합니다. 이것은 환경변수에 대해서도 Git의 버전 관리가 가능하다는 말입니다. submodule을 사용한다면 필요에 따라 변경 사항을 살펴보거나 이전의
버전으로 되돌리는 등의 행위를 할 수
있습니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="3-통일성을-지킬-수-있다">3. 통일성을 지킬 수 있다.<a href="#3-통일성을-지킬-수-있다" class="hash-link" aria-label="3. 통일성을 지킬 수 있다.에 대한 직접 링크" title="3. 통일성을 지킬 수 있다.에 대한 직접 링크">​</a></h4><p>프로젝트의 팀원들이 .gitignore를 통해 개별로 민감 정보 파일을 관리한다고 생각해봅시다. 처음에는 파일의 내용이 모두 같아도 시간이 지남에 따라 팀원 간 파일의 내용이 달라질 수 있습니다. 환경변수에 관한
팀의 통일성이 깨진다면 &quot;내
컴퓨터에서는 잘 되는데 네 컴퓨터에서는 잘 안 되는&quot; 답답한 상황이 생기기 마련입니다.</p><p>Git의 submodule은 통일성을 지키기 편합니다. 한 팀원이 환경변수를 변경했다면 commit &amp; push 하고, 다른 팀원은 변경사항을 update 하면 통일성이 지켜집니다. 모두가 같은
파일을 사용할 수 있는 것 입니다.</p><h1>submodule 설정하기</h1><p>실습을 통해 Git submodule을 직접 사용해봅시다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="초기-설정">초기 설정<a href="#초기-설정" class="hash-link" aria-label="초기 설정에 대한 직접 링크" title="초기 설정에 대한 직접 링크">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="repository-생성">Repository 생성<a href="#repository-생성" class="hash-link" aria-label="Repository 생성에 대한 직접 링크" title="Repository 생성에 대한 직접 링크">​</a></h3><p><img loading="lazy" src="https://velog.velcdn.com/images/153plane/post/2a456ec0-a178-4d16-90c1-2e5ecc658bae/image.png" class="img_ev3q"></p><p>Github 에서 Repository를 두 개 생성합니다. submodule로 설정할 Repository는 <code>Private</code>으로
생성합니다. <code>project-repository</code>, <code>submodule-repository</code> 를 생성했습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="submodule-추가">submodule 추가<a href="#submodule-추가" class="hash-link" aria-label="submodule 추가에 대한 직접 링크" title="submodule 추가에 대한 직접 링크">​</a></h3><p>메인 프로젝트인 <code>project-repository</code> 에 <code>submodule-repository</code> 를 submodule로 추가합니다.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> submodule </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">submodule-repository_URL</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">target_dir</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>위와 같은 명령어로 submodule을 추가할 수 있습니다. <code>{target_dir}</code>로 submodule 디렉토리의 이름을 설정할 수 있습니다. 명시하지 않는다면 Repository의 이름으로 설정됩니다.</p><p>명령을 실행한 후 git status 로 변경사항을 확인해봅시다.</p><p><img loading="lazy" src="https://velog.velcdn.com/images/153plane/post/01abb7ec-88eb-47e3-aaea-4e30c42c1258/image.png" class="img_ev3q">
.gitmodules 파일과 <code>submodule-repository</code>가 추가된 것을 확인할 수 있습니다.</p><p><img loading="lazy" src="https://velog.velcdn.com/images/153plane/post/f6a67169-d9a2-4d2d-b22f-655960cd9533/image.png" class="img_ev3q"></p><p>.gitmodules 파일은 서브모듈의 URL 매핑 정보를 담은 설정 파일입니다.</p><p>submodule 추가에 따른 변경사항을 commit &amp; push 함으로써 초기 설정이 완료됩니다.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="협업할-때-사용하기">협업할 때 사용하기<a href="#협업할-때-사용하기" class="hash-link" aria-label="협업할 때 사용하기에 대한 직접 링크" title="협업할 때 사용하기에 대한 직접 링크">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="submodule을-포함한-프로젝트-사용하기">submodule을 포함한 프로젝트 사용하기<a href="#submodule을-포함한-프로젝트-사용하기" class="hash-link" aria-label="submodule을 포함한 프로젝트 사용하기에 대한 직접 링크" title="submodule을 포함한 프로젝트 사용하기에 대한 직접 링크">​</a></h3><p>팀원 중 한 명이 프로젝트에 submodule을 설정했다면 다른 팀원은 이를 그대로 사용하면 됩니다.</p><p>프로젝트 clone 부터 시작한다면 다음 명령을 차례로 실행하면 됩니다. 이미 clone 한 상태라면 init, update 명령만 실행하면 됩니다. init과 update 명령을 실행하지 않는다면 프로젝트에
submodule 디렉토리는 빈 상태 입니다.</p><ol><li>clone</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">Repository_URL</span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><ol start="2"><li>init</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> submodule init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>init 명령은 submodule 정보를 기반으로 로컬에 환경설정 파일(configuration file)을 초기화합니다.</p><ol start="3"><li>update</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> submodule update</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>update 명령은 submodule의 원격 Repository에서 커밋 정보를 포함한 데이터를 가져온 후 프로젝트에 맞게 Checkout 합니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="submodule-변경하기">submodule 변경하기<a href="#submodule-변경하기" class="hash-link" aria-label="submodule 변경하기에 대한 직접 링크" title="submodule 변경하기에 대한 직접 링크">​</a></h3><p>submodule 내용을 변경하는 방법은 크게 두 가지입니다. submodule Repository 에서 변경하는 방법과 메인 프로젝트 Repository에서 직접 변경하는 방법입니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="submodule-repository에서-변경">submodule Repository에서 변경<a href="#submodule-repository에서-변경" class="hash-link" aria-label="submodule Repository에서 변경에 대한 직접 링크" title="submodule Repository에서 변경에 대한 직접 링크">​</a></h4><p>submodule로 설정된 Repository에서 직접 내용을 변경하는 방법입니다.</p><p>다음 절차를 따릅니다.</p><ol><li>submodule 변경사항 commit &amp; push</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&quot;{message}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>submodule 에서 변경사항을 commit &amp; push 합니다.</p><ol start="2"><li>메인 프로젝트 submodule update</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> submodule update --remote</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" src="https://velog.velcdn.com/images/153plane/post/6ee65291-9998-4328-9863-e3016577fa55/image.png" class="img_ev3q"></p><p>메인 프로젝트에서 <code>git submodule update --remote</code> 명령을 실행하면, submodule의 HEAD 가 새로운 commit을 가리키게 됩니다.</p><p>이때 <code>git status</code> 명령을 실행해보면, submodule이 update 된 것을 확인할 수 있습니다.
<img loading="lazy" src="https://velog.velcdn.com/images/153plane/post/e8d5e5c4-b282-4c66-9934-c329e20ea129/image.png" class="img_ev3q"></p><ol start="3"><li>메인 프로젝트 변경사항 commit &amp; push</li></ol><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> </span><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> commit -m </span><span class="token string" style="color:#e3116c">&quot;{message}&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> push</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>메인 프로젝트에 submodule의 변경사항을 반영하기 위해 commit &amp; push 합니다.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="메인-프로젝트에서-변경">메인 프로젝트에서 변경<a href="#메인-프로젝트에서-변경" class="hash-link" aria-label="메인 프로젝트에서 변경에 대한 직접 링크" title="메인 프로젝트에서 변경에 대한 직접 링크">​</a></h4><p>메인 프로젝트에서 직접 submodule에 접근해 내용을 변경하는 방법입니다.</p><p>앞서 submodule Repository에서 직접 변경하는 방법과 크게 다르지 않습니다. 다만 commit &amp; push 순서가 중요합니다. submodule의 변경사항을 우선 commit &amp; push 한 후 메인
프로젝트에서 submodule 변경 내용을 commit &amp; push 해야합니다.</p><p><strong>⚠️ 주의</strong>
<img loading="lazy" src="https://velog.velcdn.com/images/153plane/post/165ccd1e-5c06-4b8b-b30d-c0c155a85d6f/image.png" class="img_ev3q"></p><p>앞서 <code>git submodule udpate</code> 명령으로 submodule의 변경사항을 불러왔다면 submodule은 Detached HEAD 상태입니다.</p><p>이때 submodule 의 내용을 변경한 후 commit &amp; push 하면 본래 사용하던 branch와 무관하게 commit이 쌓이게 됩니다. 기존에 사용하던 branch에 변경사항을 적용하려면 변경사항을
commit &amp; push 하기 전에 사용하던 branch로 Checkout 을 수행해야 합니다. 만약, Remote Repository 보다 commit이 뒤에 있다면 git pull도 수행합니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="팀원들이-update-사항-불러오기">팀원들이 update 사항 불러오기<a href="#팀원들이-update-사항-불러오기" class="hash-link" aria-label="팀원들이 update 사항 불러오기에 대한 직접 링크" title="팀원들이 update 사항 불러오기에 대한 직접 링크">​</a></h3><p>한 팀원이 submodule 내용을 변경 후 메인 프로젝트에 반영했다면, 다른 팀원들도 이를 불러올 필요가 있습니다.</p><p>팀원 모두 메인 프로젝트에서 <code>git submodule update --remote</code> 명령을 실행합니다.</p><h1>사용하기</h1><p>그럼 이제 submodule 사용법을 알았으니, 직접 환경변수를 관리하고 사용해봅니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="애플리케이션-코드">애플리케이션 코드<a href="#애플리케이션-코드" class="hash-link" aria-label="애플리케이션 코드에 대한 직접 링크" title="애플리케이션 코드에 대한 직접 링크">​</a></h3><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token annotation punctuation" style="color:#393A34">@RestController</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">HelloController</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token annotation punctuation" style="color:#393A34">@GetMapping</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;/hello&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> </span><span class="token class-name">ResponseEntity</span><span class="token generics punctuation" style="color:#393A34">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">hello</span><span class="token punctuation" style="color:#393A34">(</span><span class="token annotation punctuation" style="color:#393A34">@Value</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;${credentials.greeting-message}&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">final</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token class-name">ResponseEntity</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ok</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="클립보드에 코드 복사" title="복사" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>다음과 같은 코드를 작성했습니다. <code>/hello</code>로 접근하면 인사말을 반환하는 코드입니다. 이때 인사말이 private으로 설정해야 하는 환경변수라고 생각해봅시다. <code>@Value</code> 애노테이션을 통해
application.yml
파일에서 message를 불러오도록 설정했습니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="submodule-코드">submodule 코드<a href="#submodule-코드" class="hash-link" aria-label="submodule 코드에 대한 직접 링크" title="submodule 코드에 대한 직접 링크">​</a></h3><p><img loading="lazy" src="https://velog.velcdn.com/images/153plane/post/ce8f59c1-3ac2-4eb4-88e4-ff0c135fc1a9/image.png" class="img_ev3q"></p><p>Private Repository 인 submodule 에 <code>application-hello.yml</code> 을 작성합니다. &quot;hello&quot;와 같은 값이 외부에 노출되면 안 되는 환경변수라고 생각하시면 됩니다.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="applicationyml--profiles">application.yml &amp; Profiles<a href="#applicationyml--profiles" class="hash-link" aria-label="application.yml &amp; Profiles에 대한 직접 링크" title="application.yml &amp; Profiles에 대한 직접 링크">​</a></h3><p>Spring 을 사용하는
프로그램에서는 <a href="https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html" target="_blank" rel="noopener noreferrer">Profiles</a>를 설정함으로써
application의 configuration을 여러 개로 나누어 관리할 수 있습니다.</p><p><img loading="lazy" src="https://velog.velcdn.com/images/153plane/post/99a3b170-f41e-41a7-a9fe-c178da4b25fd/image.png" class="img_ev3q"></p><p>메인 프로젝트 <code>application.yml</code>에 profiles를 hello로 설정합니다. 그러면 <code>application-hello.yml</code> 파일을 적용합니다. 이때 <code>application-hello.yml</code> 파일이
resources 폴더가 아닌 submodule 폴더에 있다는 것에 유의합니다. submodule 폴더에서 yml 파일을 import 할 수 있는 설정도 추가합니다.</p><p><img loading="lazy" src="https://velog.velcdn.com/images/153plane/post/8beb4f45-9abf-4927-a67f-1e3f176f970d/image.png" class="img_ev3q"></p><p>애플리케이션을 실행해보면 환경변수를 잘 읽어오는 것을 확인할 수 있습니다.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>태그:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/github">github</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/collaboration">collaboration</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/trip-draw/trip-draw.github.io/tree/main/blog/2023-11-07-Git submodule 도입하기.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>페이지 편집</a></div></footer></article><div></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="블로그 게시물 탐색"><a class="pagination-nav__link pagination-nav__link--prev" href="/JPA N + 1 Problem"><div class="pagination-nav__sublabel">이전 게시물</div><div class="pagination-nav__label">회원 삭제 N+1 문제 @Query로 해결하기 (feat. 커버링 인덱스)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/Git-submodule-private"><div class="pagination-nav__sublabel">다음 게시물</div><div class="pagination-nav__label">Git 민감 정보 노출 문제 해결하기</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#들어가기" class="table-of-contents__link toc-highlight">들어가기</a></li><li><a href="#submodule-이란" class="table-of-contents__link toc-highlight">submodule 이란?</a></li><li><a href="#submodule로-환경변수-관리" class="table-of-contents__link toc-highlight">submodule로 환경변수 관리</a></li><li><a href="#submodule의-장점" class="table-of-contents__link toc-highlight">submodule의 장점</a></li><li><a href="#초기-설정" class="table-of-contents__link toc-highlight">초기 설정</a><ul><li><a href="#repository-생성" class="table-of-contents__link toc-highlight">Repository 생성</a></li><li><a href="#submodule-추가" class="table-of-contents__link toc-highlight">submodule 추가</a></li></ul></li><li><a href="#협업할-때-사용하기" class="table-of-contents__link toc-highlight">협업할 때 사용하기</a><ul><li><a href="#submodule을-포함한-프로젝트-사용하기" class="table-of-contents__link toc-highlight">submodule을 포함한 프로젝트 사용하기</a></li><li><a href="#submodule-변경하기" class="table-of-contents__link toc-highlight">submodule 변경하기</a></li><li><a href="#팀원들이-update-사항-불러오기" class="table-of-contents__link toc-highlight">팀원들이 update 사항 불러오기</a></li><li><a href="#애플리케이션-코드" class="table-of-contents__link toc-highlight">애플리케이션 코드</a></li><li><a href="#submodule-코드" class="table-of-contents__link toc-highlight">submodule 코드</a></li><li><a href="#applicationyml--profiles" class="table-of-contents__link toc-highlight">application.yml &amp; Profiles</a></li></ul></li></ul></div></div></div></div></div></div>
<script src="/assets/js/runtime~main.8008de5f.js"></script>
<script src="/assets/js/main.5bf20d84.js"></script>
</body>
</html>